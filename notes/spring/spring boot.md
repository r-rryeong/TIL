### Spring í‘œê¸°ë²•(ê°•ì˜ ê¸°ì¤€)

json íŒŒì¼(Body)ì€ ìŠ¤ë„¤ì´í¬ ì¼€ì´ìŠ¤

í´ë˜ìŠ¤ëª…ì€ íŒŒìŠ¤ì¹¼ ì¼€ì´ìŠ¤

ë³€ìˆ˜, í•¨ìˆ˜ëª…ì€ ì¹´ë©œ ì¼€ì´ìŠ¤



### ë‹¨ì¶•í‚¤

- alt + Enter: ìˆ˜í–‰í•  actionì„ ë³´ì—¬ì¤Œ(import, replace,...)



# ğŸŒ±TIL

- var: íƒ€ì… ì¶”ë¡ í•˜ëŠ” ë‹¨ì¶•ëœ ì•½ì–´(ìë°”11ë¶€í„° ì¶”ê°€)
- dependency
- throws: ì˜ˆì™¸ë˜ì§€ê¸°



**AOP**

- Join Point: íƒ€ê²Ÿ ê°ì²´ê°€ êµ¬í˜„í•œ ì¸í„°í˜ì´ìŠ¤ì˜ ëª¨ë“  ë©”ì„œë“œëŠ” ì¡°ì¸ í¬ì¸íŠ¸ê°€ ëœë‹¤.
- Aspect: AOPì˜ ê¸°ë³¸ ëª¨ë“ˆ, Advice + Pointcut
- Pointcut: Adviceë¥¼ ì ìš©í•  íƒ€ê²Ÿì˜ ë©”ì„œë“œë¥¼ ì„ ë³„í•˜ëŠ” ì •ê·œí‘œí˜„ì‹

> **ë ˆìŠ¤í† ë‘ ë¹„ìœ ë¥¼ ì‚¬ìš©í•œ ì„¤ëª…**
>
> ì™¸ì‹ í•  ë•Œ ë©”ë‰´ë¥¼ë³´ê³  ì„ íƒí•  ìˆ˜ìˆëŠ” ëª‡ ê°€ì§€ ì˜µì…˜ì´ í‘œì‹œë©ë‹ˆë‹¤. ë©”ë‰´ì—ìˆëŠ” í•­ëª© ì¤‘ í•˜ë‚˜ ì´ìƒì„ ì£¼ë¬¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì‹¤ì œë¡œ ì£¼ë¬¸í•˜ê¸° ì „ê¹Œì§€ëŠ” â€œì‹ì‚¬ ê¸°íšŒâ€ì¼ë¿ì…ë‹ˆë‹¤. ì£¼ë¬¸í•˜ê³  ì›¨ì´í„°ê°€ í…Œì´ë¸”ë¡œ ê°€ì ¸ ì˜¤ë©´ ì‹ì‚¬ì…ë‹ˆë‹¤.
>
> JoinpointëŠ” ë©”ë‰´ì˜ ì˜µì…˜ì´ê³  Pointcutì€ ì‚¬ìš©ìê°€ ì„ íƒí•˜ëŠ” í•­ëª©ì…ë‹ˆë‹¤.
>
> JoinpointëŠ” ì½”ë“œ ë‚´ì—ì„œ ì¸¡ë©´ì„ ì ìš© í•  ìˆ˜ìˆëŠ” ê¸°íšŒì…ë‹ˆë‹¤. ê·¸ ê¸°íšŒë¥¼ ì¡ê³  í•˜ë‚˜ ì´ìƒì˜ Joinpointë¥¼ ì„ íƒí•˜ê³  ê·¸ê²ƒì— ì¸¡ë©´ì„ ì ìš©í•˜ë©´ Pointcutì´ ìˆìŠµë‹ˆë‹¤.

- Beanì€ Componentì™€ ë‹¤ë¥´ê²Œ í´ë˜ìŠ¤ì— ë¶™í ìˆ˜ ì—†ë‹¤. ë©”ì„œë“œì— ê°€ëŠ¥
- @Target(): ì• ë…¸í…Œì´ì…˜ì„ ë¶€ì°©í•  ìˆ˜ ìˆëŠ” íƒ€ì… ì§€ì •
- @Retention(): í•´ë‹¹ ì• ë…¸í…Œì´ì…˜ì´ ì–¸ì œê¹Œì§€ ìœ ì§€ë  ìˆ˜ ìˆëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ì• ë…¸í…Œì´ì…˜

- Thread.sleep(): ì‹¤í–‰ ì¤‘ì¸ ìŠ¤ë ˆë“œë¥¼ ì ì‹œ ë©ˆì¶˜ë‹¤



**object mapper**

- jackson-databind (2.12.1)

> JSON Validator ì‚¬ì´íŠ¸

- @JsonProperty()
- JsonNode: Jackson ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” JSONì„ í‘œí˜„í•˜ê¸° ìœ„í•œ ì¶”ìƒ í´ë˜ìŠ¤

- ArrayNode: Jsonì˜ node ì¤‘ì— ë°°ì—´ í˜•íƒœë¡œ ê°’ì´ ë“¤ì–´ê°€ìˆëŠ” ë…¸ë“œì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ í´ë˜ìŠ¤
- convertValue: objectë¥¼ ì›í•˜ëŠ” typeìœ¼ë¡œ ë°”ê¿”ì„œ íŒŒì‹±í•˜ê¸° ìœ„í•œ ë©”ì„œë“œ



**Spring Boot Annotations**

| Annotation             | ì˜ë¯¸                                                         |
| ---------------------- | ------------------------------------------------------------ |
| @SpringBootApplication | Spring boot applicationìœ¼ë¡œ ì„¤ì •                             |
| @Controller            | Viewë¥¼ ì œê³µí•˜ëŠ” controllerë¡œ ì„¤ì •                            |
| @RestController        | REST APIë¥¼ ì œê³µí•˜ëŠ” controllerë¡œ ì„¤ì •                        |
| @RequestMapping        | URL ì£¼ì†Œë¥¼ ë§µí•‘(ì›í•˜ëŠ” Http method ì§€ì •í•´ì•¼í•¨)               |
| @GetMapping            | Http GetMethod URL ì£¼ì†Œ ë§µí•‘                                 |
| @PostMapping           | Http PostMethod URL ì£¼ì†Œ ë§µí•‘                                |
| @PutMapping            | Http PutMethod URL ì£¼ì†Œ ë§µí•‘                                 |
| @DeleteMapping         | Http DeleteMethod URL ì£¼ì†Œ ë§µí•‘                              |
| @RequestParam          | URL Query Parameter ë§µí•‘                                     |
| @RequestBody           | Http Bodyë¥¼ Parsing ë§µí•‘                                     |
| @Valid                 | POJO Java classì˜ ê²€ì¦                                       |
| @Configration          | 1ê°œ ì´ìƒì˜ beanì„ ë“±ë¡ í•  ë•Œ ì„¤ì •                            |
| @Component             | 1ê°œì˜ Class ë‹¨ìœ„ë¡œ ë“±ë¡í•  ë•Œ ì‚¬ìš©                            |
| @Bean                  | 1ê°œì˜ ì™¸ë¶€ libraryë¡œë¶€í„° ìƒì„±í•œ ê°ì²´ë¥¼ ë“±ë¡ ì‹œ ì‚¬ìš©(Classì—ëŠ” ì‚¬ìš©X) |
| @AutoWired             | DIë¥¼ ìœ„í•œ ê³³ì— ì‚¬ìš©                                          |
| @Qualifier             | @AutoWired ì‚¬ìš©ì‹œ beanì´ 2ê°œ ì´ìƒì¼ ë•Œ ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš©       |
| @Resource              | @AutoWired + @Qualifier ì˜ ê°œë…ìœ¼ë¡œ ì´í•´                     |
| @Aspect                | AOP ì ìš©ì‹œ ì‚¬ìš©                                              |
| @Before                | AOP ë©”ì†Œë“œ ì´ì „ í˜¸ì¶œ ì§€ì •                                    |
| @After                 | AOP ë©”ì†Œë“œ í˜¸ì¶œ ì´í›„ ì§€ì • (ì˜ˆì™¸ ë°œìƒ í¬í•¨)                   |
| @Around                | AOP ì´ì „/ì´í›„ ëª¨ë‘ í¬í•¨ (ì˜ˆì™¸ ë°œìƒ í¬í•¨)                     |
| @AfterReturning        | AOP ë©”ì†Œë“œì˜ í˜¸ì¶œì´ ì •ìƒì¼ ë•Œ ì‹¤í–‰                           |
| @AfterThrowing         | AOPì‹œ í•´ë‹¹ ë©”ì†Œë“œê°€ ì˜ˆì™¸ ë°œìƒì‹œ ì‹¤í–‰ë˜ë„ë¡ ì§€ì •              |



**Validation**

í”„ë¡œê·¸ë˜ë°ì— ìˆì–´ì„œ ê°€ì¥ í•„ìš”í•œ ë¶€ë¶„. íŠ¹íˆ Javaì—ì„œëŠ” nullê°’ì— ëŒ€í•´ì„œ ì ‘ê·¼í•˜ë ¤ê³  í•  ë•Œ null pointer exceptionì´ ë°œìƒí•¨ìœ¼ë¡œ, ì´ëŸ¬í•œ ë¶€ë¶„ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ ë¯¸ë¦¬ ê²€ì¦í•˜ëŠ” ê³¼ì •ì„ Validationì´ë¼ê³  í•œë‹¤.

1. ê²€ì¦í•´ì•¼ í•  ê°’ì´ ë§ì€ ê²½ìš° ì½”ë“œì˜ ê¸¸ì´ê°€ ê¸¸ì–´ì§„ë‹¤.
2. êµ¬í˜„ì— ë”°ë¼ì„œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì§€ë§Œ Service Logicê³¼ì˜ ë¶„ë¦¬ê°€ í•„ìš”í•˜ë‹¤
3. í©ì–´ì ¸ ìˆëŠ” ê²½ìš° ì–´ë””ì—ì„œ ê²€ì¦ì„ í•˜ëŠ”ì§€ ì•Œê¸° ì–´ë ¤ìš°ë©°, ì¬ì‚¬ìš©ì˜ í•œê³„ê°€ ìˆë‹¤.
4. êµ¬í˜„ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì§€ë§Œ, ê²€ì¦ Logicì´ ë³€ê²½ë˜ëŠ” ê²½ìš° í…ŒìŠ¤íŠ¸ ì½”ë“œ ë“± ì°¸ì¡°í•˜ëŠ” í´ë˜ìŠ¤ì—ì„œ 

| @Size               | ë¬¸ì ê¸¸ì´ ì¸¡ì •              | Int Type ë¶ˆê°€ |
| ------------------- | --------------------------- | ------------- |
| @NotNull            | null ë¶ˆê°€                   |               |
| @NotEmpty           | null, "" ë¶ˆê°€               |               |
| @NotBlank           | null, "", " " ë¶ˆê°€          |               |
| @Past               | ê³¼ê±° ë‚ ì§œ                   |               |
| @PastOrPresent      | ì˜¤ëŠ˜ì´ê±°ë‚˜ ê³¼ê±° ë‚ ì§œ        |               |
| @Future             | ë¯¸ë˜ ë‚ ì§œ                   |               |
| @FutureOrPresent    | ì˜¤ëŠ˜ì´ê±°ë‚˜ ë¯¸ë˜ ë‚ ì§œ        |               |
| @Pattern            | ì •ê·œì‹ ì ìš©                 |               |
| @Max                | ìµœëŒ€ê°’                      |               |
| @Min                | ìµœì†Œê°’                      |               |
| @AssertTrue / False | ë³„ë„ Logic ì ìš©             |               |
| @Valid              | í•´ë‹¹ object validation ì‹¤í–‰ |               |

â‘  gradle dependecies

â€‹	implementation 'org.springframework.boot:spring-boot-starter-validation'

â‘¡ bean validation spec

â€‹	https://beanvalidation.org/2.0-jsr380/

â‘¢ í•¸ë“œí°ë²ˆí˜¸ ì •ê·œì‹

â€‹	"``^\\d{2, 3}-\\d{3, 4}-\\d{4}$``"



- ResponseEntity: ì‚¬ìš©ìì˜ HttpRequestì— ëŒ€í•œ ì‘ë‹µ ë°ì´í„°ë¥¼ í¬í•¨í•˜ëŠ” í´ë˜ìŠ¤(HttpStatus, HttpHeaders, HttpBodyë¥¼ í¬í•¨)
- BindingResult: ê²€ì¦ ì˜¤ë¥˜ê°€ ë°œìƒí•  ê²½ìš° ì˜¤ë¥˜ ë‚´ìš©ì„ ë³´ê´€í•˜ëŠ” ê°ì²´




## ğŸ’¡ì—ëŸ¬

â—`Identify and stop the process that's listening on port 8080` ì—ëŸ¬

ì²«ë²ˆì§¸ ë°©ë²•,

1ë‹¨ê³„: ëª…ë ¹ í”„ë¡¬í”„íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ Windowsì—ì„œ í”„ë¡œì„¸ìŠ¤ ID ì°¾ê¸°

ex) netstat -ano | findstr 8080

2ë‹¨ê³„: ëª…ë ¹ í”„ë¡¬í”„íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ

ex) taskkill /F /PID 19788



ë‘ë²ˆì§¸ ë°©ë²•,

application.propertiesíŒŒì¼ì—ì„œ server.port=9090 ì…ë ¥

(port ë²ˆí˜¸ë¥¼ ë°”ê¾¸ì)





## â“ì§ˆë¬¸

```
// JSON ë‚´ë ¤ì£¼ê¸°
// req -> object mapper -> object -> method -> object -> object mapper -> json -> response
```

