### DFSì™€ BFS

```python
N, M, V = map(int, input().split())
edge = [list(map(int, input().split())) for _ in range(M)]
graph = [[0]*(N+1) for _ in range(N+1)]

for x, y in edge:
    graph[x][y] = 1
    graph[y][x] = 1

visited = [0] * (N+1)
visited[V] = 1
stack = [V]
path = [V]
i = V
while 1:
    for j in range(1, N+1):
        if graph[i][j] and not visited[j]:
            stack.append(i)
            path.append(j)
            visited[j] = 1
            i = j
            break
    else:
        if stack:
            i = stack.pop()
        else:
            break
print(*path)

visited = [0] * (N+1)
visited[V] = 1
queue = [V]
path = [V]
while queue:
    i = queue.pop(0)
    for j in range(1, N+1):
        if graph[i][j] and not visited[j]:
            queue.append(j)
            path.append(j)
            visited[j] = 1
print(*path)
```

