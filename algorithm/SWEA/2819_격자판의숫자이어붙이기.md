```python
# 1.

def DFS(n, ci, cj, num):
    if n==7:             # 7번째 칸에 접근했으면
        sset.add(num)    # set에 수를 추가하고 return
        return
    for di, dj in ((-1, 0), (0, 1), (1, 0), (0, -1)):   # 상우하좌로 이동
        ni, nj = ci+di, cj+dj     # 이동할 위치
        if 0<=ni<4 and 0<=nj<4:   # 이동할 위치 인덱스가 유효하면
            DFS(n+1, ni, nj, num*10+arr[ni][nj])   # 이동, cnt추가, 숫자 끝에 추가

T = int(input())
for tc in range(1, T+1):
    # 4개의 줄에 걸쳐, 각 줄마다 4개의 정수로 격자판 정보가 주어진다
    arr = [list(map(int, input().split()))for _ in range(4)]
    sset = set()           # 일곱자리수를 담을 set 설정(중복 제거)
    for i in range(4):     # 격자판에 접근
        for j in range(4):
            DFS(0, i, j, 0)        # i, j부터 출발
    print(f'#{tc} {len(sset)}')    # 일곱자리수의 개수 출력
```

