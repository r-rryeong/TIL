```python
# 1.
import sys

sys.stdin = open('input.txt', 'r')

T = int(input())
for tc in range(1, T+1):
    N, M, R, C, L = map(int, input().split())
    # N: 지하 터널의 세로 길이, M: 가로 길이, R: 맨홀 뚜껑의 세로 위치, C: 가로 위치, L: 탈출 후 소요된 시간
    b_map = [list(map(int, input().split())) for _ in range(N)]   # 지하 터널의 정보
    visited = [[0]*M for _ in range(N)]
    s_type = [
        [(-1, 0), (0, 1), (1, 0), (0, -1)],
        [(-1, 0), (1, 0)],
        [(0, -1), (0, 1)],
        [(-1, 0), (0, 1)],
        [(0, 1), (1, 0)],
        [(0, -1), (1, 0)],
        [(-1, 0), (0, -1)],
    ]

    cnt = 1
    queue = [[R, C]]
    visited[R][C] = 1

    while queue:
        r, c = queue.pop(0)
        s_num = b_map[r][c]
        for dr, dc in s_type[s_num-1]:
            nr = r + dr
            nc = c + dc
            if 0 <= nr < N and 0 <= nc < M and b_map[nr][nc] != 0 and visited[nr][nc] == 0:
                visited[nr][nc] = visited[r][c] + 1
                queue.append([nr, nc])
                if visited[nr][nc] <= L:
                    cnt += 1
                elif visited[nr][nc] == L + 1:
                    break

    print(f'#{tc}', cnt)
```

